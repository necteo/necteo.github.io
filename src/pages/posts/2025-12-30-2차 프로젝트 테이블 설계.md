---
layout: ../../layouts/MarkdownPostLayout.astro
title: '설계 하면서 들었던 생각들'
pubDate: 2025-12-30
description: '2차 프로젝트 설계 구상 과정'
author: 'necteo'
tags: ['Oracle', 'SQL', 'learning in public']
---

---

매점 테이블명을 정하는 과정

- 영화관 매점 영어로 검색
- concession stand라는 단어 등장
- store와 고민하다가 concession으로 결정
- 뭔가 애매해서 다시 알아보니 concession은 사업권을 의미하는 것 같고
  concession stand가 사업권을 받은 매점을 의미하는 듯
- 이제 store와 concession stand 중 고민
- 근데 이름이 너무 길지 않나
- ChatGPT와 Gemini를 싸우게 한 결과 store로 결정
- gpt는 이름이 가진 의미에 집중해서 concession을 추천했지만
  작은 프로젝트기도 하고 우리나라 영화관에서 store라고 하면 팝콘/콜라가 먼저 떠오른다고 생각했음

주문 상태를 나타내는 컬럼은 NUMBER? VARCHAR2?

- state를 0, 1, 2 이렇게 할 지
  'PAID', 'READY', 'DONE', 'CANCELED' 이렇게 할 지 고민
- 숫자는 다루기도 쉽고 용량도 적고 속도에서 이득을 볼 수 있다
- 문자는 알아보기 쉽다, 별도의 코드 설명 테이블 불필요
- 상태가 4개정도 뿐이고 상품 주문은 내가 주로 만들 예정이라 VARCHAR2로 결정

내가 설계한 거

```sql
CREATE TABLE store (
    store_id    NUMBER,
    name        VARCHAR2(100),
    location    VARCHAR2(100),
    staff_id    NUMBER
);

CREATE TABLE store_product (
    product_id    NUMBER,
    name          VARCHAR2(500),
    price         NUMBER
);

CREATE TABLE store_product_set (
    product_combo_id    NUMBER,
    product_id          NUMBER,
    option_category_id  NUMBER,
    size                VARCHAR2(10),
    quantity            NUMBER
);

CREATE TABLE store_product_item (
    product_item_id NUMBER,
    product_id      NUMBER,
    name            VARCHAR2(100),

);

CREATE TABLE store_product_option (
    product_option_id      NUMBER,
    name    VARCHAR2(100),
    size    VARCHAR2(10),
    option_category_id NUMBER
);

CREATE TABLE store_product_option_category (
    option_category_id      NUMBER,
    name    VARCHAR2(100)
);

CREATE TABLE store_order (
    order_id    NUMBER,
    member_id   NUMBER,
    store_id    NUMBER,
    product_id  NUMBER,
    quantity    NUMBER,
    regdate     DATE DEFAULT SYSDATE,
    total       NUMBER,
    state       VARCHAR2(20)
);

CREATE TABLE store_order_option (
    order_option_id     NUMBER,
    order_id            NUMBER,
    product_option_id   NUMBER
);
```

우선 order_item 테이블은 필요하다고 판단

메뉴
콤보/단품
팝콘/콜라
달콤팝콘/기본팝콘
콜라/환타
사이즈는 M/L
개수

재고/등록일/추가일?

주문
번호/누가/언제/총금액?
무엇을/몇개
